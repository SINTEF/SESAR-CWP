// let map:

import React from 'react';
import { useMap } from 'react-map-gl/maplibre';
import type { MapInstance, MapRef } from 'react-map-gl/maplibre';

let currentMapReference: MapRef | undefined;

export default function SectorsVoiceControl(): JSX.Element {
  const { current } = useMap();
  if (current !== undefined && currentMapReference !== current) {
    currentMapReference = current;
  }

  return <></>;
}

export function getMap(): MapInstance {
  if (currentMapReference === undefined) {
    throw new Error('Map instance is not available');
  }
  return currentMapReference.getMap();
}
