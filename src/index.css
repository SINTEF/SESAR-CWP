@import "tailwindcss";
@plugin "daisyui" {
	logs: false;
	themes: dark --default;
}

/* Customize DaisyUI dark theme with our light blue primary color */
@plugin "daisyui/theme" {
	name: "dark";
	default: true;
	prefersdark: true;
	--color-primary: #4b90db;
	--color-primary-content: #ffffff;
	--color-secondary: #444444;
	--color-secondary-content: #ffffff;
	--color-accent: #00bc8c;
	--color-accent-content: #ffffff;
	--color-neutral: #303030;
	--color-neutral-content: #ffffff;
	--color-base-100: #222222;
	--color-base-200: #1a1a1a;
	--color-base-300: #404040;
	--color-base-content: #ffffff;
	--color-info: #3498db;
	--color-success: #00bc8c;
	--color-warning: #f39c12;
	--color-error: #e74c3c;
}

/* Tailwind CSS v4 Configuration using @theme */
@theme {
	/* Custom fonts */
	--font-sans:
		"IBM Plex Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
		Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue",
		sans-serif;
	--font-mono:
		"IBM Plex Mono", "Roboto Mono", Monaco, "Courier New", Courier, monospace;

	/* Custom colors */
	--color-sesar-dark: #222;
	--color-sesar-darker: #303030;
	--color-sesar-gray: #404040;
	--color-sesar-light-gray: #888;
	--color-sesar-blue: #4472c4;
	--color-sesar-orange: #ed7d31;
	--color-sesar-green: #00bc8c;
	--color-sesar-cyan: #3498db;

	/* Custom z-index */
	--z-max: 2147483637;
}

/* Alert blink animation for STCA/TCT indicators - synchronized across all elements */
/*
 * To sync animations across components that mount at different times,
 * we use a large negative animation-delay. This "rewinds" the animation
 * to a fixed point in the past, so all elements appear synchronized
 * regardless of when they mount.
 */
@keyframes alert-blink {
	0%,
	49.9% {
		background-color: white;
	}
	50%,
	100% {
		background-color: black;
	}
}

@utility animate-alert-blink {
	animation: alert-blink 1s step-end infinite;
	/* Large negative delay syncs all animations to a common "epoch" */
	animation-delay: calc(-1s * round(down, 9999999, 1));
}

/* Custom utilities */
@utility writing-mode-vertical-rl {
	writing-mode: vertical-rl;
	text-orientation: upright;
}

@utility scrollbar-hide {
	-ms-overflow-style: none;
	scrollbar-width: none;
	&::-webkit-scrollbar {
		display: none;
	}
}

@utility range-vertical {
	writing-mode: vertical-lr;
	direction: rtl;
}

/* Maplibre/Mapbox popup customizations for draggable popup */
.maplibregl-popup-content,
.mapboxgl-popup-content {
	border-radius: 0;
	padding: 0;
	box-shadow: none;
	position: relative;
	background: transparent !important;
	background-color: transparent !important;
}

:root {
	--sesar-font:
		"IBM Plex Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
		"Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue";
	--sesar-font-mono:
		"IBM Plex Mono", "Roboto Mono", "Monaco", "Courier New", Courier, monospace;
}

html,
body {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
}

body {
	font-family: var(--sesar-font);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	overflow: hidden;
}

code {
	font-family: var(--sesar-font-mono);
}

div#root {
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
}

#root > main {
	flex-grow: 1;
}

/* Custom styles that cannot be easily converted to Tailwind */

/* Range input styles - keeping for vertical slider */
input[type="range"].range-vertical {
	writing-mode: vertical-lr;
	direction: rtl;
	height: 80px;
}

/* Webkit scrollbar dark mode */

::-webkit-scrollbar {
	width: 16px;
	height: 16px;
}

::-webkit-scrollbar-corner,
::-webkit-scrollbar-track {
	background-color: rgb(64, 64, 64);
}

::-webkit-scrollbar-thumb {
	background-color: rgb(96, 96, 96);
	background-clip: padding-box;
	border: 2px solid transparent;
}

::-webkit-scrollbar-thumb:hover {
	background-color: rgb(112, 112, 112);
}

::-webkit-scrollbar-thumb:active {
	background-color: rgb(128, 128, 128);
}

/* Buttons */
::-webkit-scrollbar-button:single-button {
	background-color: rgb(64, 64, 64);

	display: block;
	background-size: 10px;
	background-repeat: no-repeat;
}

/* Up */
::-webkit-scrollbar-button:single-button:vertical:decrement {
	height: 12px;
	width: 16px;
	background-position: center 4px;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(96, 96, 96)'><polygon points='50,00 0,50 100,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:vertical:decrement:hover {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(112, 112, 112)'><polygon points='50,00 0,50 100,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:vertical:decrement:active {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(128, 128, 128)'><polygon points='50,00 0,50 100,50'/></svg>");
}

/* Down */
::-webkit-scrollbar-button:single-button:vertical:increment {
	height: 12px;
	width: 16px;
	background-position: center 2px;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(96, 96, 96)'><polygon points='0,0 100,0 50,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:vertical:increment:hover {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(112, 112, 112)'><polygon points='0,0 100,0 50,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:vertical:increment:active {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(128, 128, 128)'><polygon points='0,0 100,0 50,50'/></svg>");
}

/* Left */
::-webkit-scrollbar-button:single-button:horizontal:decrement {
	height: 12px;
	width: 12px;
	background-position: 3px 3px;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(96, 96, 96)'><polygon points='0,50 50,100 50,0'/></svg>");
}

::-webkit-scrollbar-button:single-button:horizontal:decrement:hover {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(112, 112, 112)'><polygon points='0,50 50,100 50,0'/></svg>");
}

::-webkit-scrollbar-button:single-button:horizontal:decrement:active {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(128, 128, 128)'><polygon points='0,50 50,100 50,0'/></svg>");
}

/* Right */
::-webkit-scrollbar-button:single-button:horizontal:increment {
	height: 12px;
	width: 12px;
	background-position: 3px 3px;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(96, 96, 96)'><polygon points='0,0 0,100 50,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:horizontal:increment:hover {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(112, 112, 112)'><polygon points='0,0 0,100 50,50'/></svg>");
}

::-webkit-scrollbar-button:single-button:horizontal:increment:active {
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='rgb(128, 128, 128)'><polygon points='0,0 0,100 50,50'/></svg>");
}

/* Mapbox/Maplibre popup styles */

.mapboxgl-popup-anchor-top > .mapboxgl-popup-tip,
.maplibregl-popup-anchor-top > .maplibregl-popup-tip,
.mapboxgl-popup-anchor-bottom > .mapboxgl-popup-tip,
.maplibregl-popup-anchor-bottom > .maplibregl-popup-tip {
	display: none;
}

/* COMPASS - Map control styles only */

.mapboxgl-ctrl-top-right,
.maplibregl-ctrl-top-right {
	z-index: -1;
}
.maplibregl-popup-content,
.mapboxgl-popup-content {
	background-color: transparent;
}

#radar-map > * .mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon,
.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
	background-color: transparent;
	background-image: default;
	background-size: 120% 120%;
}

/* Make the control buttons of the maps dark */
.maplibregl-ctrl-group {
	/*filter: invert() hue-rotate(180deg);*/
  background-color: #25262c;
  color: white;
}
.maplibregl-ctrl-group .maplibregl-ctrl-icon {
	filter: invert() hue-rotate(180deg);
}

#radar-map .maplibregl-ctrl-compass .maplibregl-ctrl-icon {
	filter: none;
	background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%234a90db' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E");
}
.maplibregl-ctrl-group button+button {
  border-top-color: #444;
}

html .btn {
	font-family: var(--sesar-font);
}

.maplibregl-map {
	font-family: var(--sesar-font-mono);
	z-index: 0;
}

.maplibregl-ctrl-bottom-left,
.maplibregl-ctrl-bottom-right,
.maplibregl-ctrl-top-left,
.maplibregl-ctrl-top-right {
	/* Highest z-index (32 bits signed integer) - 10*/
	z-index: 2147483637;
}

*:not(input, textarea) {
	user-select: none;
}

.react-draggable {
	cursor: grab;
}

.react-draggable-dragging {
	cursor: grabbing;
}

/* Smooth marker/popup movement when map is not moving,
 * or being interacted with (dragging, zooming, rotating) */
.radar-map-container:not(.map-is-moving)
.maplibregl-marker:not(.disable-animation-marker),
.radar-map-container:not(.map-is-moving) .maplibregl-popup {
	transition-duration: 300ms !important;
	transition-timing-function: ease-in-out !important;
	transition-property: transform !important;
}

.maplibregl-marker.disable-animation-marker * {
	background-color: orange !important;
}

/** Full viewport height and width using dynamic viewport units */
.h-screen {
	height: 100dvh;
}

.w-screen {
	width: 100dvw;
}
